@import "tailwindcss";

@layer components {
  .btn {
    --btn-bg: theme(colors.primary.DEFAULT, #2563eb);
    --btn-border: transparent;
    --btn-foreground: theme(colors.primary.foreground, #ffffff);
    --btn-hover-bg: color-mix(in srgb, var(--btn-bg, #2563eb) 90%, transparent);
    --btn-focus: theme(colors.primary.DEFAULT, #2563eb);
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: theme(spacing.2);
    border: 1px solid var(--btn-border);
    border-radius: theme(borderRadius.md);
    background-color: var(--btn-bg);
    color: var(--btn-foreground);
    padding-block: theme(spacing.2);
    padding-inline: theme(spacing.4);
    font-size: theme(fontSize.sm);
    line-height: 1.25rem;
    font-weight: theme(fontWeight.medium);
    box-shadow: theme(boxShadow.sm, 0 1px 2px 0 rgb(15 23 42 / 0.05));
    transition-property: color, background-color, border-color, text-decoration-color, fill, stroke;
    transition-duration: theme(transitionDuration.150);
    transition-timing-function: theme(transitionTimingFunction.DEFAULT);
  }

  .btn:hover {
    background-color: var(--btn-hover-bg);
  }

  .btn:focus-visible {
    outline: 2px solid var(--btn-focus);
    outline-offset: 2px;
  }

  .btn-ghost {
    --btn-bg: transparent;
    --btn-border: transparent;
    --btn-foreground: theme(colors.primary.DEFAULT, #2563eb);
    --btn-hover-bg: color-mix(in srgb, theme(colors.primary.DEFAULT, #2563eb) 10%, transparent);
    --btn-focus: theme(colors.primary.DEFAULT, #2563eb);
  }

  .btn-secondary {
    --btn-bg: theme(colors.secondary.DEFAULT, #1d4ed8);
    --btn-foreground: theme(colors.secondary.foreground, #ffffff);
    --btn-hover-bg: color-mix(in srgb, theme(colors.secondary.DEFAULT, #1d4ed8) 90%, transparent);
    --btn-focus: theme(colors.secondary.DEFAULT, #1d4ed8);
  }

  .btn-outline {
    --btn-bg: transparent;
    --btn-border: theme(colors.primary.DEFAULT, #2563eb);
    --btn-foreground: theme(colors.primary.DEFAULT, #2563eb);
    --btn-hover-bg: color-mix(in srgb, theme(colors.primary.DEFAULT, #2563eb) 10%, transparent);
    --btn-focus: theme(colors.primary.DEFAULT, #2563eb);
  }

  .card {
    border-radius: theme(borderRadius.lg);
    border: 1px solid color-mix(in srgb, theme(colors.slate.200) 80%, transparent);
    background-color: color-mix(in srgb, white 60%, transparent);
    padding: theme(spacing.6);
    box-shadow: theme(
      boxShadow.DEFAULT,
      0 10px 15px -3px rgb(15 23 42 / 0.1), 0 4px 6px -4px rgb(15 23 42 / 0.1)
    );
  }

  .field {
    display: flex;
    flex-direction: column;
    gap: theme(spacing.1);
  }

  .label {
    font-size: theme(fontSize.sm);
    line-height: 1.25rem;
    font-weight: theme(fontWeight.medium);
    color: theme(colors.slate.600, #475569);
  }

  .input,
  .textarea {
    --field-border: theme(colors.slate.300);
    --field-focus-border: theme(colors.primary.DEFAULT, #2563eb);
    --field-focus-ring: color-mix(in srgb, theme(colors.primary.DEFAULT, #2563eb) 40%, transparent);
    display: block;
    width: 100%;
    border-radius: theme(borderRadius.md);
    border: 1px solid var(--field-border);
    background-color: white;
    padding-block: theme(spacing.2);
    padding-inline: theme(spacing.3);
    font-size: theme(fontSize.sm);
    line-height: 1.25rem;
    color: theme(colors.slate.900, #0f172a);
    box-shadow: theme(boxShadow.sm, 0 1px 2px 0 rgb(15 23 42 / 0.05));
    transition:
      box-shadow theme(transitionDuration.150) theme(transitionTimingFunction.DEFAULT),
      border-color theme(transitionDuration.150) theme(transitionTimingFunction.DEFAULT);
  }

  .input:focus-visible,
  .textarea:focus-visible {
    border-color: var(--field-focus-border);
    outline: none;
    box-shadow:
      0 0 0 3px var(--field-focus-ring),
      0 0 0 1px var(--field-focus-border);
  }

  .input:disabled,
  .textarea:disabled {
    cursor: not-allowed;
    background-color: theme(colors.slate.100, #f1f5f9);
    color: theme(colors.slate.500, #64748b);
  }

  .flash {
    display: flex;
    align-items: flex-start;
    gap: theme(spacing.3);
    border-radius: theme(borderRadius.md);
    border: 1px solid transparent;
    padding-block: theme(spacing.3);
    padding-inline: theme(spacing.4);
    font-size: theme(fontSize.sm);
    line-height: 1.25rem;
    box-shadow: theme(boxShadow.sm, 0 1px 2px 0 rgb(15 23 42 / 0.05));
  }

  .flash-message {
    display: flex;
    flex-direction: column;
    gap: theme(spacing.1);
    font-size: theme(fontSize.sm);
    line-height: 1.25rem;
  }

  .flash-info {
    border-color: color-mix(in srgb, theme(colors.accent.DEFAULT, #0ea5e9) 30%, transparent);
    background-color: color-mix(in srgb, theme(colors.accent.DEFAULT, #0ea5e9) 10%, transparent);
    color: theme(colors.accent.foreground, #0f172a);
  }

  .flash-success {
    border-color: color-mix(in srgb, theme(colors.success.DEFAULT, #10b981) 30%, transparent);
    background-color: color-mix(in srgb, theme(colors.success.DEFAULT, #10b981) 10%, transparent);
    color: theme(colors.success.foreground, #022c22);
  }

  .flash-warning {
    border-color: color-mix(in srgb, theme(colors.warning.DEFAULT, #f59e0b) 30%, transparent);
    background-color: color-mix(in srgb, theme(colors.warning.DEFAULT, #f59e0b) 10%, transparent);
    color: theme(colors.warning.foreground, #78350f);
  }

  .flash-danger,
  .flash-error {
    border-color: color-mix(in srgb, theme(colors.danger.DEFAULT, #ef4444) 30%, transparent);
    background-color: color-mix(in srgb, theme(colors.danger.DEFAULT, #ef4444) 10%, transparent);
    color: theme(colors.danger.foreground, #7f1d1d);
  }
}
